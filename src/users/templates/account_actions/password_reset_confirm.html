{% extends "base.html" %}
{% load i18n %}
{% load static %}
{% load bootstrap4 %}

{% block title %}{% trans "Reset Confirmation :: PlayStyle Compass" %}{% endblock title %}

{% block content %}
<link rel="stylesheet" type="text/css" href="{% static 'css/users/common.css' %}">

<div class="my-container">
  {% if validlink %}
  <h2 class="card-title">{% trans "Set up a new password" %}</h2>
  <form method="post">
    {% csrf_token %}

    <div class="form-group">
      <label for="{{ form.new_password1.id_for_label }}"><i class="fas fa-lock"></i> {% trans "New Password" %}</label>
      <div class="custom-input-group">
        {{ form.new_password1 }}
        <div class="input-group-append">
          <button type="button" id="toggleNewPassword1" class="show-hide-button">
            <i class="fas fa-eye" id="eye-icon-new1"></i> <span id="toggleTextNew1">{% trans "Show" %}</span>
          </button>
        </div>
      </div>
      {% if form.new_password1.errors %}
      <ul class="custom-error-list">
        {{ form.new_password1.errors }}
      </ul>
      {% endif %}
    </div>

    <div class="form-group">
      <label for="{{ form.new_password2.id_for_label }}"><i class="fas fa-lock"></i> {% trans "Confirm New Password" %}</label>
      <div class="custom-input-group">
        {{ form.new_password2 }}
        <div class="input-group-append">
          <button type="button" id="toggleNewPassword2" class="show-hide-button">
            <i class="fas fa-eye" id="eye-icon-new2"></i> <span id="toggleTextNew2">{% trans "Show" %}</span>
          </button>
        </div>
      </div>
      {% if form.new_password2.errors %}
      <ul class="custom-error-list">
        {{ form.new_password2.errors }}
      </ul>
      {% endif %}
    </div>

    <button type="submit" class="btn btn-primary">{% trans "Reset Password" %}</button>
  </form>
  {% else %}
  <p><strong>{% trans "The password reset link has expired. Please request a new one." %}</strong></p>
  {% endif %}
</div>
{% endblock content %}